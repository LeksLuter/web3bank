const translations = {
  en: {
    "header-title": "Web3 Bank",
    "header-subtitle": "Your Gateway to the Funniest Decentralized Future!",
    "nav-home": "Home",
    "nav-why": "Why Us",
    "nav-tokenomics": "Tokenomics",
    "nav-use-cases": "Use Cases",
    "nav-roadmap": "Roadmap",
    "nav-listings": "Listings",
    "nav-partners": "Partners",
    "welcome-title": "Welcome to Web3 Bank",
    "welcome-text": "üî• Welcome to Web3 Bank ‚Äî Where Memes Meet Money! Say goodbye to boring finance! Join a decentralized community where every meme you create or share can earn you WTB tokens. Powered by blockchain, we turn laughter into real value. Start your journey today ‚Äî earn, vote, and build the future of meme-driven finance with us!",
    "why-title": "Why Web3 Bank?",
    "why-list": [
      "Earn While You Meme: Get rewarded with WTB tokens for every viral meme you share.",
      "Shape the Future: Vote on platform upgrades and meme contests with your tokens.",
      "Exclusive NFT Drops: Unlock limited-edition memes that can‚Äôt be found anywhere else.",
      "Community-Driven: Join 10,000+ memers building a decentralized economy together.",
      "Secure & Transparent: Built on blockchain ‚Äî no hidden fees, no middlemen."
    ],
    "tokenomics-title": "Tokenomics",
    "tokenomics-text": "Our tokenomics are designed to ensure fairness, sustainability, and long-term growth for our community. Join us and become part of the decentralized future!",
    "use-cases-title": "Token Use Cases",
    "use-cases-items": [
      "Meme Marketplace",
      "Buy, sell, and trade meme NFTs using WTB tokens. Earn royalties from viral memes!",
      "Decentralized Governance",
      "Vote for platform upgrades and meme contests with your WTB tokens.",
      "Meme Staking",
      "Stake WTB to boost meme visibility and earn rewards.",
      "Web3 Mem Games",
      "Play meme-based blockchain games and win WTB prizes.",
      "Meme Crowdfunding",
      "Fund your meme projects using WTB tokens and community support.",
      "Educational Memes",
      "Learn blockchain basics through interactive meme courses (paid in WTB)."
    ],
    "listings-title": "Token Listings",
    "listings-items": [
      "Trade WTB on Pump.Fun",
      "Track WTB metrics on DexScreener",
      "Check WTB price on DexTools",
      "Raydium listing (coming soon)",
      "CoinGecko listing (coming soon)"
    ],
    "partners-title": "Our Partners",
    "partners-items": [
      "Partner 1",
      "Partner 2",
      "Partner 3"
    ],
    "roadmap-title": "Roadmap",
    "roadmap-items": [
      "Launch WTB token on MMM platform",
      "Listing on decentralized exchanges (DEX)",
      "Listing on CoinGecko, CoinMarketCap",
      "Global marketing campaign",
      "Migration to multiple blockchains",
      "Development of Web3 Bank ecosystem projects"
    ],
    "how-title": "How It Works",
    "how-text": "1. Create your Web3 wallet.<br>2. Mint or trade WTB meme tokens.<br>3. Vote on the best memes to govern the platform.<br>4. Laugh your way to the top of the leaderboard!",
    "visit-counter": "Visits: {count}",
    "analytics-link": "View Analytics",
    "auth-title": "Sign In",
    "connect-fantom": "Connect with Fantom Wallet"
  },
  ru: {
    "header-title": "Web3 –ë–∞–Ω–∫",
    "header-subtitle": "–í–∞—à –ø—É—Ç—å –∫ —Å–∞–º–æ–º—É –≤–µ—Å–µ–ª–æ–º—É –¥–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–º—É –±—É–¥—É—â–µ–º—É!",
    "nav-home": "–ì–ª–∞–≤–Ω–∞—è",
    "nav-why": "–ü–æ—á–µ–º—É –º—ã",
    "nav-tokenomics": "–¢–æ–∫–µ–Ω–æ–º–∏–∫–∞",
    "nav-use-cases": "–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ",
    "nav-roadmap": "–î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞",
    "nav-listings": "–õ–∏—Å—Ç–∏–Ω–≥–∏",
    "nav-partners": "–ü–∞—Ä—Ç–Ω–µ—Ä—ã",
    "welcome-title": "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Web3 –ë–∞–Ω–∫",
    "welcome-text": "üî• –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Web3 –ë–∞–Ω–∫ ‚Äî –≥–¥–µ –º–µ–º—ã –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è —Å –¥–µ–Ω—å–≥–∞–º–∏! –ó–∞–±—É–¥—å—Ç–µ –æ —Å–∫—É—á–Ω—ã—Ö —Ñ–∏–Ω–∞–Ω—Å–∞—Ö! –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ –¥–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–º—É —Å–æ–æ–±—â–µ—Å—Ç–≤—É, –≥–¥–µ –∫–∞–∂–¥—ã–π –º–µ–º, –∫–æ—Ç–æ—Ä—ã–π –≤—ã —Å–æ–∑–¥–∞–µ—Ç–µ –∏–ª–∏ –¥–µ–ª–∏—Ç–µ—Å—å, –ø—Ä–∏–Ω–æ—Å–∏—Ç —Ç–æ–∫–µ–Ω—ã WTB. –ù–∞ –æ—Å–Ω–æ–≤–µ –±–ª–æ–∫—á–µ–π–Ω–∞ –º—ã –ø—Ä–µ–≤—Ä–∞—â–∞–µ–º —Å–º–µ—Ö –≤ —Ä–µ–∞–ª—å–Ω—É—é —Ü–µ–Ω–Ω–æ—Å—Ç—å. –ù–∞—á–Ω–∏—Ç–µ —Å–≤–æ–π –ø—É—Ç—å —Å–µ–≥–æ–¥–Ω—è ‚Äî –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ, –≥–æ–ª–æ—Å—É–π—Ç–µ –∏ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –±—É–¥—É—â–µ–µ –º–µ–º-—ç–∫–æ–Ω–æ–º–∏–∫–∏ –≤–º–µ—Å—Ç–µ —Å –Ω–∞–º–∏!",
    "why-title": "–ü–æ—á–µ–º—É Web3 –ë–∞–Ω–∫?",
    "why-list": [
      "–ó–∞—Ä–∞–±–∞—Ç—ã–≤–∞–π, –≤–µ—Å–µ–ª—è—Å—å: –ü–æ–ª—É—á–∞–π—Ç–µ —Ç–æ–∫–µ–Ω—ã WTB –∑–∞ –∫–∞–∂–¥—ã–π –≤–∏—Ä—É—Å–Ω—ã–π –º–µ–º.",
      "–£–ø—Ä–∞–≤–ª—è–π—Ç–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π: –ì–æ–ª–æ—Å—É–π—Ç–µ –∑–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ –∫–æ–Ω–∫—É—Ä—Å—ã –º–µ–º–æ–≤ —Å –ø–æ–º–æ—â—å—é —Ç–æ–∫–µ–Ω–æ–≤.",
      "–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ NFT: –ü–æ–ª—É—á–∞–π—Ç–µ –¥–æ—Å—Ç—É–ø –∫ —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –º–µ–º–∞–º, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –±–æ–ª—å—à–µ –Ω–∏–≥–¥–µ.",
      "–°–æ–æ–±—â–µ—Å—Ç–≤–æ –∏–∑ 10,000+ –º–µ–º–µ—Ä–æ–≤: –í–º–µ—Å—Ç–µ —Å–æ–∑–¥–∞–µ–º –¥–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é —ç–∫–æ–Ω–æ–º–∏–∫—É.",
      "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –±–ª–æ–∫—á–µ–π–Ω–∞: –ù–∏–∫–∞–∫–∏—Ö —Å–∫—Ä—ã—Ç—ã—Ö –∫–æ–º–∏—Å—Å–∏–π –∏ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–≤."
    ],
    "tokenomics-title": "–¢–æ–∫–µ–Ω–æ–º–∏–∫–∞",
    "tokenomics-text": "–ù–∞—à–∞ —Ç–æ–∫–µ–Ω–æ–º–∏–∫–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç–∏, —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ –∏ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–≥–æ —Ä–æ—Å—Ç–∞ –¥–ª—è –Ω–∞—à–µ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞. –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ –Ω–∞–º –∏ —Å—Ç–∞–Ω—å—Ç–µ —á–∞—Å—Ç—å—é –¥–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –±—É–¥—É—â–µ–≥–æ!",
    "use-cases-title": "–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞",
    "use-cases-items": [
      "–ú–µ–º-–º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å",
      "–ü–æ–∫—É–ø–∞–π—Ç–µ, –ø—Ä–æ–¥–∞–≤–∞–π—Ç–µ –∏ –æ–±–º–µ–Ω–∏–≤–∞–π—Ç–µ –º–µ–º—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ NFT —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ç–æ–∫–µ–Ω–æ–≤ WTB. –ü–æ–ª—É—á–∞–π—Ç–µ —Ä–æ—è–ª—Ç–∏ –æ—Ç –≤–∏—Ä—É—Å–Ω—ã—Ö –º–µ–º–æ–≤!",
      "–î–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ",
      "–ì–æ–ª–æ—Å—É–π—Ç–µ –∑–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –∏ –º–µ–º-–∫–æ–Ω–∫—É—Ä—Å—ã —Å –ø–æ–º–æ—â—å—é —Ç–æ–∫–µ–Ω–æ–≤ WTB.",
      "–°—Ç–µ–π–∫–∏–Ω–≥ –º–µ–º–æ–≤",
      "–°—Ç–µ–π–∫–∞–π—Ç–µ WTB –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –≤–∏–¥–∏–º–æ—Å—Ç–∏ –º–µ–º–æ–≤ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–∞–≥—Ä–∞–¥.",
      "Web3-–∏–≥—Ä—ã —Å –º–µ–º–∞–º–∏",
      "–ò–≥—Ä–∞–π—Ç–µ –≤ –±–ª–æ–∫—á–µ–π–Ω-–∏–≥—Ä—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–µ–º–æ–≤ –∏ –≤—ã–∏–≥—Ä—ã–≤–∞–π—Ç–µ WTB!",
      "–ö—Ä–∞—É–¥—Ñ–∞–Ω–¥–∏–Ω–≥ –º–µ–º–æ–≤",
      "–§–∏–Ω–∞–Ω—Å–∏—Ä—É–π—Ç–µ —Å–≤–æ–∏ –º–µ–º-–ø—Ä–æ–µ–∫—Ç—ã —á–µ—Ä–µ–∑ —Ç–æ–∫–µ–Ω—ã WTB –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É —Å–æ–æ–±—â–µ—Å—Ç–≤–∞.",
      "–û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –º–µ–º—ã",
      "–ò–∑—É—á–∞–π—Ç–µ –æ—Å–Ω–æ–≤—ã –±–ª–æ–∫—á–µ–π–Ω–∞ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –º–µ–º-–∫—É—Ä—Å—ã (–æ–ø–ª–∞—Ç–∞ –≤ WTB)."
    ],
    "listings-title": "–õ–∏—Å—Ç–∏–Ω–≥–∏ —Ç–æ–∫–µ–Ω–∞",
    "listings-items": [
      "–¢–æ—Ä–≥—É–π—Ç–µ WTB –Ω–∞ Pump.Fun",
      "–û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –º–µ—Ç—Ä–∏–∫–∏ WTB –Ω–∞ DexScreener",
      "–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ü–µ–Ω—É WTB –Ω–∞ DexTools",
      "–õ–∏—Å—Ç–∏–Ω–≥ –Ω–∞ Raydium (—Å–∫–æ—Ä–æ)",
      "–õ–∏—Å—Ç–∏–Ω–≥ –Ω–∞ CoinGecko (—Å–∫–æ—Ä–æ)"
    ],
    "partners-title": "–ù–∞—à–∏ –ø–∞—Ä—Ç–Ω–µ—Ä—ã",
    "partners-items": [
      "–ü–∞—Ä—Ç–Ω–µ—Ä 1",
      "–ü–∞—Ä—Ç–Ω–µ—Ä 2",
      "–ü–∞—Ä—Ç–Ω–µ—Ä 3"
    ],
    "roadmap-title": "–î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞",
    "roadmap-items": [
      "–ó–∞–ø—É—Å–∫ —Ç–æ–∫–µ–Ω–∞ WTB –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ MMM",
      "–õ–∏—Å—Ç–∏–Ω–≥ –Ω–∞ –¥–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –±–∏—Ä–∂–∞—Ö (DEX)",
      "–õ–∏—Å—Ç–∏–Ω–≥ –Ω–∞ CoinGecko, CoinMarketCap",
      "–ì–ª–æ–±–∞–ª—å–Ω–∞—è –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤–∞—è –∫–∞–º–ø–∞–Ω–∏—è",
      "–ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –±–ª–æ–∫—á–µ–π–Ω–æ–≤",
      "–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —ç–∫–æ—Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ Web3 Bank"
    ],
    "how-title": "–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç",
    "how-text": "1. –°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–π Web3 –∫–æ—à–µ–ª–µ–∫.<br>2. –ß–µ–∫–∞–Ω—å—Ç–µ –∏–ª–∏ —Ç–æ—Ä–≥—É–π—Ç–µ —Ç–æ–∫–µ–Ω–∞–º–∏ WTB.<br>3. –ì–æ–ª–æ—Å—É–π—Ç–µ –∑–∞ –ª—É—á—à–∏–µ –º–µ–º—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π.<br>4. –°–º–µ–π—Ç–µ—Å—å –¥–æ –≤–µ—Ä—à–∏–Ω—ã –ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞!",
    "visit-counter": "–ü–æ—Å–µ—â–µ–Ω–∏—è: {count}",
    "analytics-link": "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É",
    "auth-title": "–í–æ–π—Ç–∏",
    "connect-fantom": "–ü–æ–¥–∫–ª—é—á–∏—Ç—å Fantom Wallet"
  }
};

let currentLanguage = "en";
let loggedInUser = null;

// –£–ª—É—á—à–µ–Ω–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —è–∑—ã–∫–∞
function toggleLanguage() {
  currentLanguage = currentLanguage === "en" ? "ru" : "en";
  const flag = document.getElementById("language-flag");
  
  // –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–ª–∞–≥–∞
  flag.src = currentLanguage === "en" 
    ? "img/usa-flag.svg" 
    : "img/russia-flag.svg";
  flag.alt = `${currentLanguage.toUpperCase()} Language`;

  // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
  Object.entries(translations[currentLanguage]).forEach(([key, value]) => {
    const elements = document.querySelectorAll(`[data-translate="${key}"]`);
    elements.forEach(el => {
      if (el.tagName === "INPUT") {
        el.placeholder = value;
      } else {
        el.textContent = value;
      }
    });
  });

  // –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤
  const updateList = (selector, items) => {
    const list = document.querySelector(selector);
    if (!list) return;
    
    list.textContent = "";
    items.forEach(item => {
      const li = document.createElement("li");
      li.textContent = item;
      list.appendChild(li);
    });
  };

  updateList("#why-list", translations[currentLanguage]["why-list"]);
  updateList("#roadmap-items", translations[currentLanguage]["roadmap-items"]);
}

// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ–Ω—é
function toggleMenu() {
  const navbar = document.getElementById("navbar");
  navbar.classList.toggle("active");

  // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–µ–Ω—é –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
  if (window.innerWidth <= 768) {
    document.querySelectorAll(".nav-links a").forEach(link => {
      link.addEventListener("click", () => navbar.classList.remove("active"));
    });
  }
}

// –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
const modal = {
  show: () => {
    document.getElementById("auth-modal").classList.remove("hidden");
    document.getElementById("modal-overlay").classList.remove("hidden");
  },
  
  hide: () => {
    document.getElementById("auth-modal").classList.add("hidden");
    document.getElementById("modal-overlay").classList.add("hidden");
  }
};

// –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–æ—à–µ–ª—å–∫–∞
async function connectFantom() {
  try {
    if (typeof window.fantom === "undefined") {
      throw new Error("Fantom Wallet –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω!");
    }

    const accounts = await window.fantom.enable();
    if (!accounts || accounts.length === 0) {
      throw new Error("–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç—ã");
    }

    loggedInUser = { wallet: accounts[0], tasks: [] };
    updateUserInfo();
    modal.hide();
  } catch (error) {
    console.error("Connection error:", error);
    alert(error.message);
  }
}

// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
const user = {
  update: () => {
    const userCard = document.querySelector(".user-card");
    if (!userCard || !loggedInUser) return;

    userCard.classList.remove("hidden");
    document.getElementById("user-wallet").textContent = loggedInUser.wallet;
    document.getElementById("tasks-completed").textContent = 
      loggedInUser.tasks.length;
  },

  logout: () => {
    loggedInUser = null;
    document.querySelector(".user-card").classList.add("hidden");
  }
};

// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–≤–µ—Å—Ç–∞–º–∏
const questManager = {
  load: () => {
    try {
      const questsList = document.getElementById("quests-list");
      const savedQuests = JSON.parse(localStorage.getItem("quests")) || [];
      
      questsList.textContent = "";
      savedQuests.forEach(quest => {
        const item = document.createElement("div");
        item.innerHTML = `
          <details>
            <summary>${escapeHTML(quest.title)}</summary>
            <p>Points: ${quest.points}</p>
            <button onclick="completeQuest('${escapeHTML(quest.title)}')">
              Complete
            </button>
          </details>
        `;
        questsList.appendChild(item);
      });
    } catch (error) {
      console.error("Error loading quests:", error);
    }
  },

  add: () => {
    const title = document.getElementById("new-quest-title").value.trim();
    const points = document.getElementById("new-quest-points").value.trim();

    if (!title || !points) {
      alert("–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è!");
      return;
    }

    try {
      const quests = JSON.parse(localStorage.getItem("quests")) || [];
      quests.push({ title, points });
      localStorage.setItem("quests", JSON.stringify(quests));
      questManager.load();
    } catch (error) {
      console.error("Error saving quest:", error);
    }
  }
};

// –ó–∞—â–∏—Ç–∞ –æ—Ç XSS
function escapeHTML(str) {
  return str.replace(/[&<>"']/g, 
    match => ({
      '&': '&amp;',
      '<': '&lt;',
      '>': '&gt;',
      '"': '&quot;',
      "'": '&#39;'
    }[match]));
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
document.addEventListener("DOMContentLoaded", () => {
  // –°—á–µ—Ç—á–∏–∫ –ø–æ—Å–µ—â–µ–Ω–∏–π
  const updateVisitCounter = () => {
    try {
      let visits = localStorage.getItem("visits") || 0;
      visits = parseInt(visits) + 1;
      localStorage.setItem("visits", visits);
      
      const counterText = translations[currentLanguage]["visit-counter"]
        .replace("{count}", visits);
      document.getElementById("visit-counter").textContent = counterText;
    } catch (error) {
      console.error("Error updating visit counter:", error);
    }
  };

  updateVisitCounter();
  questManager.load();
});
